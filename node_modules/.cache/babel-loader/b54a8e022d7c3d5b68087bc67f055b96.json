{"ast":null,"code":"import _classCallCheck from\"/home/sean/VSCodeProjects/seanb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/sean/VSCodeProjects/seanb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/sean/VSCodeProjects/seanb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/sean/VSCodeProjects/seanb/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import'./css/v2Report.css';/*\nThis page is a page that allows the user to select a given country and information type from drop downs.\n\nWill redirect to localhost/country/:country/:information\n*/var Error=function Error(props){return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,\"The battle report that you trying to access of the specified ID and server does not exist. Please search for it using the search feature or ensure that the link is correct.\"),/*#__PURE__*/React.createElement(\"a\",{href:\"/battlepaste/search\"},\"Search Battle Paste\"));};var Unit=function Unit(props){return/*#__PURE__*/React.createElement(\"tr\",{align:\"center\"},/*#__PURE__*/React.createElement(\"td\",null,props.data.Name),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"b\",null,props.data.StartQuant)),props.data.EndQuant<props.data.StartQuant&&/*#__PURE__*/React.createElement(\"td\",{className:\"hilite\"},/*#__PURE__*/React.createElement(\"b\",null,props.data.EndQuant)),props.data.EndQuant===props.data.StartQuant&&/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"b\",null,props.data.EndQuant)),/*#__PURE__*/React.createElement(\"td\",null,props.data.Power),/*#__PURE__*/React.createElement(\"td\",null,props.data.Armour),/*#__PURE__*/React.createElement(\"td\",null,props.data.Shield));};var Ticker=function Ticker(props){return/*#__PURE__*/React.createElement(\"div\",{className:\"ticker\"},/*#__PURE__*/React.createElement(\"span\",{className:\"link\"},props.attackerTag,\" \",props.attacker),\" vs. \",/*#__PURE__*/React.createElement(\"span\",{className:\"link\"},props.defenderTag,\" \",props.defender),\" losses: \",props.attackLoss.toLocaleString(),\" / \",props.defendLoss.toLocaleString());};var ViewBattlePaste=/*#__PURE__*/function(_Component){_inherits(ViewBattlePaste,_Component);var _super=_createSuper(ViewBattlePaste);function ViewBattlePaste(props){var _this;_classCallCheck(this,ViewBattlePaste);_this=_super.call(this,props);_this.API_ENDPOINT=process.env.REACT_APP_API_PATH||'https://battlepasteapi.herokuapp.com';_this.state={isAuthenticating:true,report:{},error:false,mongoID:_this.props.match.params.id,server:_this.props.match.params.server};return _this;}_createClass(ViewBattlePaste,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;console.log(process.env.REACT_APP_API_PATH);axios.get(this.API_ENDPOINT+'/battlereport/'+this.state.server+'/'+this.state.mongoID,{}).then(function(response){_this2.setState({report:response.data,isAuthenticating:false});console.log(\"here\");}).catch(function(error){_this2.setState({error:true,isAuthenticating:false});console.log(error);});}},{key:\"render\",value:function render(){if(this.state.isAuthenticating){return null;}else if(this.state.error){return/*#__PURE__*/React.createElement(Error,null);}else{console.log(this.state.error);var r=this.state.report;var attackerBase=false;// If the attacker is on his own base\nvar defenderBase=false;// If the defender is on his own base\nif(!r.BaseAttack&&r.Attacker.OnBase){attackerBase=true;}else if(!attackerBase&&r.Defender.OnBase){defenderBase=true;}var npcAttack=false;// If the attack involves an NPC (NPCs give no battle experience)\nif(r.Attacker.PlayerName===\"United Colonies\"||r.Defender.PlayerName===\"Drekons\"){npcAttack=true;}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Ticker,{attackerTag:r.Attacker.PlayerTag,attacker:r.Attacker.PlayerName,defenderTag:r.Defender.PlayerTag,defender:r.Defender.PlayerName,attackLoss:r.AttackerLoss,defendLoss:r.DefenderLoss}),/*#__PURE__*/React.createElement(\"div\",{className:\"battle-report\",align:\"center\"},/*#__PURE__*/React.createElement(\"table\",{className:\"battle-report_info\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{colSpan:\"2\"},\"Battle Report\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Location\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"link\"},r.BaseName,\" (\",r.Coordinate,\")\"))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Time\"),/*#__PURE__*/React.createElement(\"td\",null,r.Date,\" \",r.Time)),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Server\"),/*#__PURE__*/React.createElement(\"td\",null,r.Server)),/*#__PURE__*/React.createElement(\"tr\",{className:\"battle-report_subtitle\"},/*#__PURE__*/React.createElement(\"th\",{colSpan:\"2\"},\"Attack Force\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Player\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"link\"},r.Attacker.PlayerTag,\" \",r.Attacker.PlayerName),\"\\xA0\\xA0\",r.Attacker.PlayerName!==\"United Colonies\"&&r.Attacker.PlayerName!==\"Drekons\"&&/*#__PURE__*/React.createElement(\"small\",null,\"lvl \",r.Attacker.PlayerLevel))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Fleet Name\"),/*#__PURE__*/React.createElement(\"td\",null,r.Attacker.FleetName,\" \",r.AttackerDestroyed&&/*#__PURE__*/React.createElement(\"b\",{className:\"hilite\"},\"(Destroyed)\"))),attackerBase&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Command Centers\"),/*#__PURE__*/React.createElement(\"td\",null,r.CommandCenters)),attackerBase&&r.Commander!==\"\"&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Commander\"),/*#__PURE__*/React.createElement(\"td\",null,r.Commander)),/*#__PURE__*/React.createElement(\"tr\",{className:\"battle-report_subtitle\"},/*#__PURE__*/React.createElement(\"th\",{colSpan:\"2\"},\"Defensive Force\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Player\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"link\"},r.Defender.PlayerTag,\" \",r.Defender.PlayerName),\"\\xA0\\xA0\",r.Defender.PlayerName!==\"United Colonies\"&&r.Attacker.PlayerName!==\"Drekons\"&&/*#__PURE__*/React.createElement(\"small\",null,\"lvl \",r.Defender.PlayerLevel))),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Fleet Name\"),/*#__PURE__*/React.createElement(\"td\",null,r.Defender.FleetName,\" \",r.DefenderDestroyed&&/*#__PURE__*/React.createElement(\"b\",{className:\"hilite\"},\"(Destroyed)\"))),defenderBase&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Base\"),/*#__PURE__*/React.createElement(\"td\",null,r.BaseID)),defenderBase&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Start Defenses\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"b\",null,r.StartDefenses,\"%\"))),defenderBase&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"End Defenses\"),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"b\",{className:\"hilite\"},r.EndDefenses,\"%\"))),defenderBase&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Command Centers\"),/*#__PURE__*/React.createElement(\"td\",null,r.CommandCenters)),defenderBase&&r.Commander!==\"\"&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\"Commander\"),/*#__PURE__*/React.createElement(\"td\",null,r.Commander)))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"table\",{className:\"battle-report_attack\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{colSpan:\"6\"},\"Attack Force\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Unit\"),/*#__PURE__*/React.createElement(\"th\",null,\"Start Quant.\"),/*#__PURE__*/React.createElement(\"th\",null,\"End Quant.\"),/*#__PURE__*/React.createElement(\"th\",null,\"Power\"),/*#__PURE__*/React.createElement(\"th\",null,\"Armour\"),/*#__PURE__*/React.createElement(\"th\",null,\"Shield\")),r.AttackerUnits.map(function(item){return/*#__PURE__*/React.createElement(Unit,{data:item,key:\"Attacker\"+item.Name});}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"table\",{className:\"battle-report_defense\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",{colSpan:\"6\"},\"Defensive Force\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Unit\"),/*#__PURE__*/React.createElement(\"th\",null,\"Start Quant.\"),/*#__PURE__*/React.createElement(\"th\",null,\"End Quant.\"),/*#__PURE__*/React.createElement(\"th\",null,\"Power\"),/*#__PURE__*/React.createElement(\"th\",null,\"Armour\"),/*#__PURE__*/React.createElement(\"th\",null,\"Shield\")),r.DefenderUnits&&r.DefenderUnits.map(function(item){return/*#__PURE__*/React.createElement(Unit,{data:item,key:\"Defender\"+item.Name});}))),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(\"center\",null,\"Total cost of units destroyed: \",r.TotalLoss,\" \",/*#__PURE__*/React.createElement(\"small\",null,\"( Attacker: \",r.AttackerLoss,\" ; Defender: \",r.DefenderLoss,\" )\")),!npcAttack&&/*#__PURE__*/React.createElement(\"center\",null,/*#__PURE__*/React.createElement(\"small\",null,\"Experience: ( Attacker: +\",r.AttackerExp,\" ; Defender: +\",r.DefenderExp,\" )\")),/*#__PURE__*/React.createElement(\"center\",null,\"New debris in space: \",r.DebrisGen),r.BaseConquer&&/*#__PURE__*/React.createElement(\"center\",{className:\"hilite\"},\"Attacker conquered the base.\",/*#__PURE__*/React.createElement(\"br\",null)),r.BaseAttack&&!r.BaseConquer&&/*#__PURE__*/React.createElement(\"center\",{className:\"important\"},\"Attacker failed to conquer the base\",/*#__PURE__*/React.createElement(\"br\",null)),r.CommanderKilled&&/*#__PURE__*/React.createElement(\"center\",{className:\"hilite\"},\"Commander \",r.Commander,\" was killed\",/*#__PURE__*/React.createElement(\"br\",null)),r.BaseAttack&&r.BasePillaged&&/*#__PURE__*/React.createElement(\"center\",{className:\"hilite\"},\"Attacker got \",r.BasePillage,\" credits for pillaging defender's base.\")));}}}]);return ViewBattlePaste;}(Component);export{ViewBattlePaste as default};","map":{"version":3,"sources":["/home/sean/VSCodeProjects/seanb/src/components/viewBattlePaste.component.js"],"names":["React","Component","axios","Error","props","Unit","data","Name","StartQuant","EndQuant","Power","Armour","Shield","Ticker","attackerTag","attacker","defenderTag","defender","attackLoss","toLocaleString","defendLoss","ViewBattlePaste","API_ENDPOINT","process","env","REACT_APP_API_PATH","state","isAuthenticating","report","error","mongoID","match","params","id","server","console","log","get","then","response","setState","catch","r","attackerBase","defenderBase","BaseAttack","Attacker","OnBase","Defender","npcAttack","PlayerName","PlayerTag","AttackerLoss","DefenderLoss","BaseName","Coordinate","Date","Time","Server","PlayerLevel","FleetName","AttackerDestroyed","CommandCenters","Commander","DefenderDestroyed","BaseID","StartDefenses","EndDefenses","AttackerUnits","map","item","DefenderUnits","TotalLoss","AttackerExp","DefenderExp","DebrisGen","BaseConquer","CommanderKilled","BasePillaged","BasePillage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport './css/v2Report.css';\n\n/*\nThis page is a page that allows the user to select a given country and information type from drop downs.\n\nWill redirect to localhost/country/:country/:information\n*/\nconst Error = props => (\n    <div>\n        <div>The battle report that you trying to access of the specified ID and server does not exist. Please search for it using the search feature or ensure that the link is correct.</div>\n        <a href=\"/battlepaste/search\">Search Battle Paste</a>\n    </div>\n)\n\nconst Unit = props => (\n    < tr align=\"center\" >\n        <td>{props.data.Name}</td>\n        <td><b>{props.data.StartQuant}</b></td>\n        {props.data.EndQuant < props.data.StartQuant && <td className=\"hilite\" ><b>{props.data.EndQuant}</b></td>}\n        {props.data.EndQuant === props.data.StartQuant && <td><b>{props.data.EndQuant}</b></td>}\n        <td>{props.data.Power}</td>\n        <td>{props.data.Armour}</td>\n        <td>{props.data.Shield}</td>\n    </tr >\n)\n\nconst Ticker = props => (\n    <div className=\"ticker\"><span className=\"link\">{props.attackerTag} {props.attacker}</span> vs. <span className=\"link\">{props.defenderTag} {props.defender}</span> losses: {(props.attackLoss).toLocaleString()} / {(props.defendLoss).toLocaleString()}</div >\n)\n\n\nexport default class ViewBattlePaste extends Component {\n    API_ENDPOINT = process.env.REACT_APP_API_PATH || 'https://battlepasteapi.herokuapp.com';\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isAuthenticating: true,\n            report: {},\n            error: false,\n            mongoID: this.props.match.params.id,\n            server: this.props.match.params.server,\n        }\n    }\n\n    componentDidMount() {\n        console.log(process.env.REACT_APP_API_PATH)\n        axios.get(this.API_ENDPOINT +'/battlereport/' + this.state.server + '/' + this.state.mongoID, {\n        })\n            .then((response) => {\n                this.setState({ report: response.data, isAuthenticating: false });\n                console.log(\"here\")\n            })\n            .catch((error) => {\n                this.setState({ error: true, isAuthenticating: false });\n                console.log(error);\n            });\n    }\n\n\n    render() {\n        if (this.state.isAuthenticating) {\n            return (null)\n        } else if (this.state.error) {\n            return (<Error />)\n        } else {\n            console.log(this.state.error)\n            var r = this.state.report\n\n            var attackerBase = false // If the attacker is on his own base\n            var defenderBase = false // If the defender is on his own base\n\n            if (!r.BaseAttack && r.Attacker.OnBase) {\n                attackerBase = true\n            } else if (!attackerBase && r.Defender.OnBase) {\n                defenderBase = true\n            }\n\n            var npcAttack = false // If the attack involves an NPC (NPCs give no battle experience)\n\n            if (r.Attacker.PlayerName === \"United Colonies\" || r.Defender.PlayerName === \"Drekons\") {\n                npcAttack = true\n            }\n\n            return (\n                <div>\n                    <Ticker attackerTag={r.Attacker.PlayerTag} attacker={r.Attacker.PlayerName} defenderTag={r.Defender.PlayerTag} defender={r.Defender.PlayerName} attackLoss={r.AttackerLoss} defendLoss={r.DefenderLoss} />\n                    <div className=\"battle-report\" align=\"center\">\n                        <table className=\"battle-report_info\">\n                            <tbody>\n                                <tr>\n                                    <th colSpan=\"2\">Battle Report</th>\n                                </tr>\n                                <tr>\n                                    <td>Location</td>\n                                    <td><div className={\"link\"}>{r.BaseName} ({r.Coordinate})</div></td>\n                                </tr>\n                                <tr>\n                                    <td>Time</td>\n                                    <td>{r.Date} {r.Time}</td>\n                                </tr>\n                                <tr>\n                                    <td>Server</td>\n                                    <td>{r.Server}</td>\n                                </tr>\n                                <tr className=\"battle-report_subtitle\">\n                                    <th colSpan=\"2\">Attack Force</th>\n                                </tr>\n                                <tr>\n                                    <td>Player</td>\n                                    <td><div className={\"link\"}>{r.Attacker.PlayerTag} {r.Attacker.PlayerName}</div>&nbsp;&nbsp;{r.Attacker.PlayerName !== \"United Colonies\" && r.Attacker.PlayerName !== \"Drekons\" && <small>lvl {r.Attacker.PlayerLevel}</small>}</td>\n                                </tr>\n                                <tr>\n                                    <td>Fleet Name</td>\n                                    <td>{r.Attacker.FleetName} {r.AttackerDestroyed && <b className=\"hilite\">(Destroyed)</b>}</td>\n                                </tr>\n                                {attackerBase && < tr ><td>Command Centers</td><td>{r.CommandCenters}</td></tr>}\n                                {attackerBase && r.Commander !== \"\" && <tr><td>Commander</td><td>{r.Commander}</td></tr>}\n                                <tr className=\"battle-report_subtitle\">\n                                    <th colSpan=\"2\">Defensive Force</th>\n                                </tr>\n                                <tr>\n                                    <td>Player</td>\n                                    <td><div className={\"link\"}>{r.Defender.PlayerTag} {r.Defender.PlayerName}</div>&nbsp;&nbsp;{r.Defender.PlayerName !== \"United Colonies\" && r.Attacker.PlayerName !== \"Drekons\" && <small>lvl {r.Defender.PlayerLevel}</small>}</td>\n                                </tr>\n                                <tr>\n                                    <td>Fleet Name</td>\n                                    <td>{r.Defender.FleetName} {r.DefenderDestroyed && <b className=\"hilite\">(Destroyed)</b>}</td>\n                                </tr>\n                                {defenderBase && < tr ><td>Base</td><td>{r.BaseID}</td></tr>}\n                                {defenderBase && < tr ><td>Start Defenses</td><td><b>{r.StartDefenses}%</b></td></tr>}\n                                {defenderBase && < tr ><td>End Defenses</td><td><b className=\"hilite\">{r.EndDefenses}%</b></td></tr>}\n                                {defenderBase && < tr ><td>Command Centers</td><td>{r.CommandCenters}</td></tr>}\n                                {defenderBase && r.Commander !== \"\" && <tr><td>Commander</td><td>{r.Commander}</td></tr>}\n                            </tbody>\n                        </table>\n                        <br />\n                        <table className=\"battle-report_attack\">\n                            <tbody>\n                                <tr>\n                                    <th colSpan=\"6\">Attack Force</th>\n                                </tr>\n                                <tr><th>Unit</th><th>Start Quant.</th><th>End Quant.</th><th>Power</th><th>Armour</th><th>Shield</th></tr>\n                                {r.AttackerUnits.map(function (item) {\n                                    return < Unit data={item} key={\"Attacker\" + item.Name} />\n                                })}\n                            </tbody>\n                        </table>\n                        <br />\n                        <table className=\"battle-report_defense\">\n                            <tbody>\n                                <tr>\n                                    <th colSpan=\"6\">Defensive Force</th>\n                                </tr>\n                                <tr><th>Unit</th><th>Start Quant.</th><th>End Quant.</th><th>Power</th><th>Armour</th><th>Shield</th></tr>\n                                {r.DefenderUnits && r.DefenderUnits.map(function (item) {\n                                    return <Unit data={item} key={\"Defender\" + item.Name} />\n                                })}\n                            </tbody>\n                        </table>\n                        <br />\n                        <center>Total cost of units destroyed: {r.TotalLoss} <small>( Attacker: {r.AttackerLoss} ; Defender: {r.DefenderLoss} )</small></center>\n                        {!npcAttack && <center><small>Experience: ( Attacker: +{r.AttackerExp} ; Defender: +{r.DefenderExp} )</small></center>}\n                        <center>New debris in space: {r.DebrisGen}</center>\n                        {\n                            r.BaseConquer &&\n                            <center className=\"hilite\">Attacker conquered the base.<br /></center>}\n                        {\n                            r.BaseAttack && !r.BaseConquer &&\n                            <center className=\"important\">Attacker failed to conquer the base<br /></center>\n                        }\n\n                        {\n                            r.CommanderKilled &&\n                            <center className=\"hilite\">Commander {r.Commander} was killed<br /></center>\n                        }\n\n                        {r.BaseAttack && r.BasePillaged && <center className=\"hilite\">Attacker got {r.BasePillage} credits for pillaging defender's base.</center>\n                        }\n                    </div >\n                </div >\n            )\n        }\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}